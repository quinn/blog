{"componentChunkName":"component---src-templates-blog-post-js","path":"/2014/08-17-installing-metasploit-on-osx-with-rbenv/","result":{"data":{"site":{"siteMetadata":{"title":"Quinn's Blog"}},"markdownRemark":{"id":"4fe3409a-fa68-5092-9a47-10df4c3be3da","excerpt":"For some recent work I’ve had to identify and fix some Denial of Service /\nbrute force attacks for one of our clients. A great open-source tool for this\nis…","html":"<p>For some recent work I’ve had to identify and fix some Denial of Service /\nbrute force attacks for one of our clients. A great open-source tool for this\nis called <a href=\"https://github.com/rapid7/metasploit-framework\">Metasploit</a>.</p>\n<p>They provide an installer (sign-up required), but for this type of thing I\nprefer to just install it myself.</p>\n<p>First things first, you need to have ruby and homebrew installed.</p>\n<p>The first step is to clone the repository:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">mkdir -p /usr/local/src\ncd /usr/local/src\ngit clone https://github.com/rapid7/metasploit-framework.git</code></pre></div>\n<p>Next, you have to have ruby 1.9.3 installed. For this you will need\n<a href=\"https://github.com/sstephenson/rbenv\">rbenv</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">rbenv install 1.9.3-p547</code></pre></div>\n<p>If rbenv tells you this version is not available make sure ruby-build is up-\nto-date.</p>\n<p>You’ll now need to create your <code class=\"language-text\">database.yml</code>. To do this, copy the example\nfile and modify it to fit your needs:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">cp config/database.yml.example config/database.yml\nsubl config/database.yml</code></pre></div>\n<p>In this example I have <code class=\"language-text\">subl</code> to edit in Sublime Text, use whatever text\neditor you are comfortable with.</p>\n<p>Now we have to install metasploit’s dependencies and database:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">gem install bundler\nbundle install\nrake db:create</code></pre></div>\n<p>Create the <code class=\"language-text\">msf</code> command:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">cat &lt;&lt; EOF &gt; /usr/local/bin/msf\n#!/usr/bin/env bash\nexec /usr/local/src/metasploit-framework/msfconsole \\\n  -y /usr/local/src/metasploit-framework/config/database.yml \\\n  -e development \\$*\nEOF\nchmod +x /usr/local/bin/msf</code></pre></div>\n<p>The first time you run <code class=\"language-text\">msf</code> you may want to rebuild the cache for faster searching:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">msf -x db_rebuild_cache</code></pre></div>\n<p>Try to search for an exploit to test it out:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">msf > search wordpress\n\nMatching Modules\n================\n\n   Name                                                      Disclosure Date  Rank       Description\n   ----                                                      ---------------  ----       -----------\n   auxiliary/gather/wp_w3_total_cache_hash_extract                            normal     W3-Total-Cache Wordpress-plugin 0.9.2.4 (or before) Username and Hash Extract\n   auxiliary/scanner/http/wordpress_login_enum                                normal     Wordpress Brute Force and User Enumeration Utility\n   auxiliary/scanner/http/wordpress_pingback_access                           normal     Wordpress Pingback Locator\n   auxiliary/scanner/http/wordpress_scanner                                   normal     Wordpress Scanner\n   exploit/unix/webapp/php_wordpress_foxypress               2012-06-05       excellent  WordPress Plugin Foxypress uploadify.php Arbitrary Code Execution\n   exploit/unix/webapp/php_wordpress_lastpost                2005-08-09       excellent  WordPress cache_lastpostdate Arbitrary Code Execution\n   exploit/unix/webapp/php_wordpress_optimizepress           2013-11-29       normal     WordPress OptimizePress Theme File Upload Vulnerability\n   exploit/unix/webapp/php_wordpress_total_cache             2013-04-17       excellent  Wordpress W3 Total Cache PHP Code Execution\n   exploit/unix/webapp/php_xmlrpc_eval                       2005-06-29       excellent  PHP XML-RPC Arbitrary Code Execution\n   exploit/unix/webapp/wp_advanced_custom_fields_exec        2012-11-14       excellent  WordPress Plugin Advanced Custom Fields Remote File Inclusion\n   exploit/unix/webapp/wp_asset_manager_upload_exec          2012-05-26       excellent  WordPress Asset-Manager PHP File Upload Vulnerability\n   exploit/unix/webapp/wp_google_document_embedder_exec      2013-01-03       normal     WordPress Plugin Google Document Embedder Arbitrary File Disclosure\n   exploit/unix/webapp/wp_property_upload_exec               2012-03-26       excellent  WordPress WP-Property PHP File Upload Vulnerability\n   exploit/unix/webapp/wp_wptouch_file_upload                2014-07-14       excellent  Wordpress WPTouch Authenticated File Upload\n   exploit/unix/webapp/wp_wysija_newsletters_upload          2014-07-01       excellent  Wordpress MailPoet Newsletters (wysija-newsletters) Unauthenticated File Upload\n   exploit/windows/browser/adobe_flashplayer_newfunction     2010-06-04       normal     Adobe Flash Player \"newfunction\" Invalid Pointer Use\n   exploit/windows/fileformat/adobe_flashplayer_button       2010-10-28       normal     Adobe Flash Player \"Button\" Remote Code Execution\n   exploit/windows/fileformat/adobe_flashplayer_newfunction  2010-06-04       normal     Adobe Flash Player \"newfunction\" Invalid Pointer Use\n   exploit/windows/fileformat/ms12_005                       2012-01-10       excellent  MS12-005 Microsoft Office ClickOnce Unsafe Object Package Handling Vulnerability\n   exploit/windows/fileformat/winrar_name_spoofing           2009-09-28       excellent  WinRAR Filename Spoofing\n   exploit/windows/ftp/easyftp_cwd_fixret                    2010-02-16       great      EasyFTP Server CWD Command Stack Buffer Overflow\n   exploit/windows/http/sws_connection_bof                   2012-07-20       normal     Simple Web Server Connection Header Buffer Overflow\n   post/windows/gather/credentials/razer_synapse                              normal     Windows Gather Razer Synapse Password Extraction\n\nmsf ></code></pre></div>\n<p>If you see this you should be good to go. Metasploit is a great tool for\ntesting your site for vulnerabilities and for testing your fixes.</p>","fields":{"slug":"/2014/08-17-installing-metasploit-on-osx-with-rbenv/"},"frontmatter":{"title":"Installing Metasploit on OS X with rbenv","date":"August 17, 2014","description":"Setting up metasploit from scratch can be a bit convoluted, here are steps I took to get it set up on OS X.\n"}}},"pageContext":{"slug":"/2014/08-17-installing-metasploit-on-osx-with-rbenv/","previous":{"fields":{"slug":"/2014/08-12-iframe-communication/"},"frontmatter":{"title":"Facilitating Bidirectional Cross-Domain Communication with an Iframe"}},"next":{"fields":{"slug":"/2014/08-22-analyzing-historical-apache-logs-piwik/"},"frontmatter":{"title":"Analyzing historical apache log data using piwik"}}}},"staticQueryHashes":["1091219763","63159454"]}